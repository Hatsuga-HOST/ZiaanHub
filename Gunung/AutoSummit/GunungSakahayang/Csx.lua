data:text/plain;base64,LS0gQXV0byBTdW1taXQgR3VudW5nIFNha2FoYXlhbmcKLS0gTW9kaWZpZWQgYnkgWmlhYW5Gb3VuZGVyIHggSWxoYW1IRAotLSBXaXRoIEFkbWluIERldGVjdGlvbiBTeXN0ZW0KCmlmIGdhbWUuUGxhY2VJZCA9PSAxMzcxMjM4MTk0NzY1ODkgdGhlbgogICAgbG9jYWwgdmFyX3o5ejM2cSA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpCiAgICBsb2NhbCB2YXJfOXc0aXZpID0gZ2FtZTpHZXRTZXJ2aWNlKCJUZWxlcG9ydFNlcnZpY2UiKQogICAgbG9jYWwgdmFyX2NueW9nNSA9IGdhbWU6R2V0U2VydmljZSgiVHdlZW5TZXJ2aWNlIikKICAgIGxvY2FsIHZhcl9ibXR5NHQgPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKQogICAgbG9jYWwgdmFyX3NoZ3p2MiA9IFBsYXllcnMuTG9jYWxQbGF5ZXIKCiAgICAtLSBXYWl0IGZvciBwbGF5ZXIgdG8gbG9hZAogICAgaWYgbm90IHBsYXllciB0aGVuCiAgICAgICAgcGxheWVyID0gUGxheWVycy5QbGF5ZXJBZGRlZDpXYWl0KCkKICAgIGVuZAoKICAgIC0tIEFkbWluIGFuZCBPd25lciBsaXN0cwogICAgbG9jYWwgdmFyXzhxczIzbSA9IHsgImdhcmFzaXhyb2Jsb3giIH0KICAgIGxvY2FsIHZhcl94a2w5cXggPSB7IAogICAgICAgICJzZWx5eTA0MTEiLCAiaG9yZWdqYXdhIiwgImtheWUwMzA1MDUiLCAicnJhc3lhYWphIiwgCiAgICAgICAgIk1hbHZlcnluIiwgIlRldWZlbDQxMSIsICJzd2VldGdhbWluZzAyMzQiLCAiQXNlcF9SYW50ZTczIiAKICAgIH0KICAgIAogICAgbG9jYWwgdmFyX28yZGxqZyA9IGZhbHNlCiAgICBsb2NhbCB2YXJfdzkzODFjID0ge30KCiAgICAtLSBUZWxlcG9ydCBkZXN0aW5hdGlvbgogICAgbG9jYWwgdmFyX3plNGVvZSA9IFZlY3RvcjMubmV3KC05ODIuNzcxNDg0Mzc1LCAzMTQzLjk5NzgwMjczNDM3NSwgNTEwLjg4NzAyMzkyNTc4MTI1KQoKICAgIC0tIEFkbWluIGRldGVjdGlvbiBmdW5jdGlvbgogICAgbG9jYWwgdmFyXzA2ZXR2OSBpc0FkbWluKHBsYXllck5hbWUpCiAgICAgICAgcGxheWVyTmFtZSA9IHBsYXllck5hbWU6bG93ZXIoKQogICAgICAgIC0tIENoZWNrIGlmIHBsYXllciBpcyBhbiBvd25lcgogICAgICAgIGZvciBfLCBvd25lck5hbWUgaW4gaXBhaXJzKE93bmVycykgZG8KICAgICAgICAgICAgaWYgcGxheWVyTmFtZSA9PSBvd25lck5hbWU6bG93ZXIoKSB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZSwgIk93bmVyIgogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICAtLSBDaGVjayBpZiBwbGF5ZXIgaXMgYW4gYWRtaW4KICAgICAgICBmb3IgXywgYWRtaW5OYW1lIGluIGlwYWlycyhBZG1pbnMpIGRvCiAgICAgICAgICAgIGlmIHBsYXllck5hbWUgPT0gYWRtaW5OYW1lOmxvd2VyKCkgdGhlbgogICAgICAgICAgICAgICAgcmV0dXJuIHRydWUsICJBZG1pbiIKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgcmV0dXJuIGZhbHNlLCBuaWwKICAgIGVuZAoKICAgIC0tIEFkbWluIG1vbml0b3JpbmcgZnVuY3Rpb24KICAgIGxvY2FsIHZhcl96cjE1YXUgbW9uaXRvckZvckFkbWlucygpCiAgICAgICAgLS0gQ2hlY2sgY3VycmVudCBwbGF5ZXJzCiAgICAgICAgZm9yIF8sIG90aGVyUGxheWVyIGluIGlwYWlycyhQbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KICAgICAgICAgICAgaWYgb3RoZXJQbGF5ZXIgfj0gcGxheWVyIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9wNzczcGssIHJhbmsgPSBpc0FkbWluKG90aGVyUGxheWVyLk5hbWUpCiAgICAgICAgICAgICAgICBpZiBpc0FkbWluUGxheWVyIGFuZCBub3QgaGFzRGV0ZWN0ZWRBZG1pbiB0aGVuCiAgICAgICAgICAgICAgICAgICAgaGFzRGV0ZWN0ZWRBZG1pbiA9IHRydWUKICAgICAgICAgICAgICAgICAgICBwbGF5ZXI6S2ljaygiXG5BZG1pbmlzdHJhdG9yIGRldGVjdGVkICgiIC4uIHJhbmsgLi4gIjogIiAuLiBvdGhlclBsYXllci5OYW1lIC4uICIpLlxuRm9yIHlvdXIgc2FmZXR5LCB5b3UgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgc2VydmVyLiIpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgLS0gTW9uaXRvciBmb3IgbmV3IHBsYXllcnMgam9pbmluZwogICAgICAgIHRhYmxlLmluc2VydChtb25pdG9yaW5nQ29ubmVjdGlvbnMsIFBsYXllcnMuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbihuZXdQbGF5ZXIpCiAgICAgICAgICAgIGlmIGhhc0RldGVjdGVkQWRtaW4gdGhlbiByZXR1cm4gZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCB2YXJfa2N2dnAyLCByYW5rID0gaXNBZG1pbihuZXdQbGF5ZXIuTmFtZSkKICAgICAgICAgICAgaWYgaXNBZG1pblBsYXllciB0aGVuCiAgICAgICAgICAgICAgICBoYXNEZXRlY3RlZEFkbWluID0gdHJ1ZQogICAgICAgICAgICAgICAgcGxheWVyOktpY2soIlxuQWRtaW5pc3RyYXRvciBkZXRlY3RlZCAoIiAuLiByYW5rIC4uICI6ICIgLi4gbmV3UGxheWVyLk5hbWUgLi4gIikuXG5Gb3IgeW91ciBzYWZldHksIHlvdSBoYXZlIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSBzZXJ2ZXIuIikKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKSkKICAgIGVuZAoKICAgIC0tIFByZW1pdW0gbm90aWZpY2F0aW9uIGZ1bmN0aW9uCiAgICBsb2NhbCB2YXJfdjBicjd2IGNyZWF0ZU5vdGlmaWNhdGlvbih0aXRsZSwgbWVzc2FnZSwgZHVyYXRpb24sIG5vdGlmaWNhdGlvblR5cGUpCiAgICAgICAgLS0gV2FpdCBmb3IgUGxheWVyR3VpCiAgICAgICAgaWYgbm90IHBsYXllcjpGaW5kRmlyc3RDaGlsZCgiUGxheWVyR3VpIikgdGhlbgogICAgICAgICAgICBsb2NhbCB2YXJfdmJoNHI0ID0gcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgcGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIiwgMTApCiAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgaWYgbm90IHN1Y2Nlc3Mgb3Igbm90IHBsYXllcjpGaW5kRmlyc3RDaGlsZCgiUGxheWVyR3VpIikgdGhlbgogICAgICAgICAgICAgICAgd2FybigiUGxheWVyR3VpIG5vdCBmb3VuZCwgY2Fubm90IGNyZWF0ZSBub3RpZmljYXRpb24iKQogICAgICAgICAgICAgICAgcmV0dXJuIG5pbAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKCiAgICAgICAgLS0gUmVtb3ZlIHByZXZpb3VzIG5vdGlmaWNhdGlvbgogICAgICAgIGlmIHBsYXllci5QbGF5ZXJHdWk6RmluZEZpcnN0Q2hpbGQoIlRlbGVwb3J0Tm90aWZpY2F0aW9uIikgdGhlbgogICAgICAgICAgICBwbGF5ZXIuUGxheWVyR3VpLlRlbGVwb3J0Tm90aWZpY2F0aW9uOkRlc3Ryb3koKQogICAgICAgIGVuZAoKICAgICAgICBsb2NhbCB2YXJfYmgxdGo0ID0gSW5zdGFuY2UubmV3KCJTY3JlZW5HdWkiKQogICAgICAgIHNjcmVlbkd1aS5OYW1lID0gIlRlbGVwb3J0Tm90aWZpY2F0aW9uIgogICAgICAgIHNjcmVlbkd1aS5QYXJlbnQgPSBwbGF5ZXIuUGxheWVyR3VpCiAgICAgICAgc2NyZWVuR3VpLlpJbmRleEJlaGF2aW9yID0gRW51bS5aSW5kZXhCZWhhdmlvci5TaWJsaW5nCiAgICAgICAgc2NyZWVuR3VpLlJlc2V0T25TcGF3biA9IGZhbHNlCgogICAgICAgIC0tIE1haW4gY29udGFpbmVyCiAgICAgICAgbG9jYWwgdmFyX2EyN3F4aSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgIG1haW5Db250YWluZXIuU2l6ZSA9IFVEaW0yLm5ldygwLCA0NTAsIDAsIDE2MCkKICAgICAgICBtYWluQ29udGFpbmVyLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgLTIyNSwgMC4xLCAwKQogICAgICAgIG1haW5Db250YWluZXIuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIwLCAyMCwgMzApCiAgICAgICAgbWFpbkNvbnRhaW5lci5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4xNQogICAgICAgIG1haW5Db250YWluZXIuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgICAgIAogICAgICAgIGxvY2FsIHZhcl9kYXRtYWQgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICBjb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgMTIpCiAgICAgICAgY29ybmVyLlBhcmVudCA9IG1haW5Db250YWluZXIKICAgICAgICAKICAgICAgICAtLSBHbGFzcyBlZmZlY3QKICAgICAgICBsb2NhbCB2YXJfNHpwaXFuID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICAgICAgZ2xhc3NFZmZlY3QuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgIGdsYXNzRWZmZWN0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjk1CiAgICAgICAgZ2xhc3NFZmZlY3QuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE1MCwgMTUwLCAyMDApCiAgICAgICAgZ2xhc3NFZmZlY3QuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgICAgIGdsYXNzRWZmZWN0LlpJbmRleCA9IC0xCiAgICAgICAgCiAgICAgICAgbG9jYWwgdmFyXzh0MXJmMyA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgIGdsYXNzQ29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsIDEyKQogICAgICAgIGdsYXNzQ29ybmVyLlBhcmVudCA9IGdsYXNzRWZmZWN0CiAgICAgICAgZ2xhc3NFZmZlY3QuUGFyZW50ID0gbWFpbkNvbnRhaW5lcgogICAgICAgIAogICAgICAgIC0tIEdsb3cgZWZmZWN0CiAgICAgICAgbG9jYWwgdmFyX2s1b2R5eSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiKQogICAgICAgIGdsb3cuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgZ2xvdy5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDEwMCwgMTAwLCAxNTApCiAgICAgICAgZ2xvdy5UaGlja25lc3MgPSAyCiAgICAgICAgZ2xvdy5UcmFuc3BhcmVuY3kgPSAwLjcKICAgICAgICBnbG93LlBhcmVudCA9IG1haW5Db250YWluZXIKCiAgICAgICAgLS0gQW5pbWF0ZSBnbG93CiAgICAgICAgc3Bhd24oZnVuY3Rpb24oKQogICAgICAgICAgICB3aGlsZSBnbG93IGFuZCBnbG93LlBhcmVudCBkbwogICAgICAgICAgICAgICAgZ2xvdy5UcmFuc3BhcmVuY3kgPSAwLjMgKyBtYXRoLmFicyhtYXRoLnNpbih0aWNrKCkpKSAqIDAuNAogICAgICAgICAgICAgICAgd2FpdCgwLjEpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKCiAgICAgICAgbWFpbkNvbnRhaW5lci5QYXJlbnQgPSBzY3JlZW5HdWkKCiAgICAgICAgLS0gSGVhZGVyIHdpdGggZ3JhZGllbnQKICAgICAgICBsb2NhbCB2YXJfcnM5cHZpID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICAgICAgaGVhZGVyLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMCwgMzIpCiAgICAgICAgaGVhZGVyLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAsIDApCiAgICAgICAgaGVhZGVyLkJvcmRlclNpemVQaXhlbCA9IDAKICAgICAgICBoZWFkZXIuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAKICAgICAgICAtLSBHcmFkaWVudCBjb2xvcnMgYmFzZWQgb24gbm90aWZpY2F0aW9uIHR5cGUKICAgICAgICBsb2NhbCB2YXJfcmhvZDdvCiAgICAgICAgaWYgbm90aWZpY2F0aW9uVHlwZSA9PSAic3VjY2VzcyIgdGhlbgogICAgICAgICAgICBncmFkaWVudENvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7CiAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5mcm9tUkdCKDc1LCAxODUsIDkwKSksCiAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5mcm9tUkdCKDU1LCAxNDUsIDcwKSkKICAgICAgICAgICAgfQogICAgICAgIGVsc2VpZiBub3RpZmljYXRpb25UeXBlID09ICJ3YXJuaW5nIiB0aGVuCiAgICAgICAgICAgIGdyYWRpZW50Q29sb3IgPSBDb2xvclNlcXVlbmNlLm5ld3sKICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLmZyb21SR0IoMjMwLCAxNjAsIDUwKSksCiAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5mcm9tUkdCKDE5MCwgMTMwLCA0MCkpCiAgICAgICAgICAgIH0KICAgICAgICBlbHNlaWYgbm90aWZpY2F0aW9uVHlwZSA9PSAiZXJyb3IiIHRoZW4KICAgICAgICAgICAgZ3JhZGllbnRDb2xvciA9IENvbG9yU2VxdWVuY2UubmV3ewogICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMuZnJvbVJHQigyMTAsIDcwLCA3MCkpLAogICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMuZnJvbVJHQigxNzAsIDUwLCA1MCkpCiAgICAgICAgICAgIH0KICAgICAgICBlbHNlIC0tIGluZm8vZGVmYXVsdAogICAgICAgICAgICBncmFkaWVudENvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7CiAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5mcm9tUkdCKDgwLCAxNTAsIDIyMCkpLAogICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMuZnJvbVJHQig2MCwgMTIwLCAxODApKQogICAgICAgICAgICB9CiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgdmFyXzJodnloZyA9IEluc3RhbmNlLm5ldygiVUlHcmFkaWVudCIpCiAgICAgICAgdWlncmFkaWVudC5Db2xvciA9IGdyYWRpZW50Q29sb3IKICAgICAgICB1aWdyYWRpZW50LlJvdGF0aW9uID0gLTE1CiAgICAgICAgdWlncmFkaWVudC5QYXJlbnQgPSBoZWFkZXIKICAgICAgICAKICAgICAgICBsb2NhbCB2YXJfa2ozdGhyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgaGVhZGVyQ29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsIDEyKQogICAgICAgIGhlYWRlckNvcm5lci5QYXJlbnQgPSBoZWFkZXIKICAgICAgICAKICAgICAgICBoZWFkZXIuUGFyZW50ID0gbWFpbkNvbnRhaW5lcgoKICAgICAgICAtLSBUaXRsZQogICAgICAgIGxvY2FsIHZhcl9nZWM3bW0gPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCiAgICAgICAgdGl0bGVMYWJlbC5TaXplID0gVURpbTIubmV3KDEsIC01MCwgMSwgMCkKICAgICAgICB0aXRsZUxhYmVsLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDE1LCAwLCAwKQogICAgICAgIHRpdGxlTGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICB0aXRsZUxhYmVsLlRleHQgPSB0aXRsZQogICAgICAgIHRpdGxlTGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICAgICAgdGl0bGVMYWJlbC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAogICAgICAgIHRpdGxlTGFiZWwuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCiAgICAgICAgdGl0bGVMYWJlbC5UZXh0U2l6ZSA9IDE2CiAgICAgICAgdGl0bGVMYWJlbC5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC44CiAgICAgICAgdGl0bGVMYWJlbC5QYXJlbnQgPSBoZWFkZXIKCiAgICAgICAgLS0gSWNvbiBiYXNlZCBvbiBub3RpZmljYXRpb24gdHlwZQogICAgICAgIGxvY2FsIHZhcl9jbGZncXkgPSBJbnN0YW5jZS5uZXcoIkltYWdlTGFiZWwiKQogICAgICAgIGljb24uU2l6ZSA9IFVEaW0yLm5ldygwLCAyMiwgMCwgMjIpCiAgICAgICAgaWNvbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygxLCAtMjcsIDAuNSwgLTExKQogICAgICAgIGljb24uQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICBpY29uLkltYWdlQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAKICAgICAgICBpZiBub3RpZmljYXRpb25UeXBlID09ICJzdWNjZXNzIiB0aGVuCiAgICAgICAgICAgIGljb24uSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzM5MjYzMDc5NzEiCiAgICAgICAgICAgIGljb24uSW1hZ2VSZWN0T2Zmc2V0ID0gVmVjdG9yMi5uZXcoMTI0LCAyMDQpCiAgICAgICAgICAgIGljb24uSW1hZ2VSZWN0U2l6ZSA9IFZlY3RvcjIubmV3KDM2LCAzNikKICAgICAgICBlbHNlaWYgbm90aWZpY2F0aW9uVHlwZSA9PSAid2FybmluZyIgdGhlbgogICAgICAgICAgICBpY29uLkltYWdlID0gInJieGFzc2V0aWQ6Ly8zOTI2MzA3OTcxIgogICAgICAgICAgICBpY29uLkltYWdlUmVjdE9mZnNldCA9IFZlY3RvcjIubmV3KDUyNCwgMjA0KQogICAgICAgICAgICBpY29uLkltYWdlUmVjdFNpemUgPSBWZWN0b3IyLm5ldygzNiwgMzYpCiAgICAgICAgZWxzZWlmIG5vdGlmaWNhdGlvblR5cGUgPT0gImVycm9yIiB0aGVuCiAgICAgICAgICAgIGljb24uSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzM5MjYzMDc5NzEiCiAgICAgICAgICAgIGljb24uSW1hZ2VSZWN0T2Zmc2V0ID0gVmVjdG9yMi5uZXcoOTI0LCAyMDQpCiAgICAgICAgICAgIGljb24uSW1hZ2VSZWN0U2l6ZSA9IFZlY3RvcjIubmV3KDM2LCAzNikKICAgICAgICBlbHNlIC0tIGluZm8vZGVmYXVsdAogICAgICAgICAgICBpY29uLkltYWdlID0gInJieGFzc2V0aWQ6Ly8zOTI2MzA3OTcxIgogICAgICAgICAgICBpY29uLkltYWdlUmVjdE9mZnNldCA9IFZlY3RvcjIubmV3KDMyNCwgMjA0KQogICAgICAgICAgICBpY29uLkltYWdlUmVjdFNpemUgPSBWZWN0b3IyLm5ldygzNiwgMzYpCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgaWNvbi5QYXJlbnQgPSBoZWFkZXIKCiAgICAgICAgLS0gTWVzc2FnZSBjb250ZW50CiAgICAgICAgbG9jYWwgdmFyX3ZrdWVvaSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgIG1lc3NhZ2VDb250YWluZXIuU2l6ZSA9IFVEaW0yLm5ldygxLCAtMjAsIDAsIDc1KQogICAgICAgIG1lc3NhZ2VDb250YWluZXIuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTAsIDAsIDM3KQogICAgICAgIG1lc3NhZ2VDb250YWluZXIuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICBtZXNzYWdlQ29udGFpbmVyLlBhcmVudCA9IG1haW5Db250YWluZXIKCiAgICAgICAgbG9jYWwgdmFyX29mOXFyZyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgICAgICBtZXNzYWdlTGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjgsIDApCiAgICAgICAgbWVzc2FnZUxhYmVsLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAsIDApCiAgICAgICAgbWVzc2FnZUxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgbWVzc2FnZUxhYmVsLlRleHQgPSBtZXNzYWdlCiAgICAgICAgbWVzc2FnZUxhYmVsLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMzAsIDIzMCwgMjMwKQogICAgICAgIG1lc3NhZ2VMYWJlbC5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICBtZXNzYWdlTGFiZWwuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKICAgICAgICBtZXNzYWdlTGFiZWwuVGV4dFlBbGlnbm1lbnQgPSBFbnVtLlRleHRZQWxpZ25tZW50LlRvcAogICAgICAgIG1lc3NhZ2VMYWJlbC5Gb250ID0gRW51bS5Gb250LkdvdGhhbQogICAgICAgIG1lc3NhZ2VMYWJlbC5UZXh0U2l6ZSA9IDEzCiAgICAgICAgbWVzc2FnZUxhYmVsLkxpbmVIZWlnaHQgPSAxLjEKICAgICAgICBtZXNzYWdlTGFiZWwuUGFyZW50ID0gbWVzc2FnZUNvbnRhaW5lcgoKICAgICAgICAtLSBQcm9ncmVzcyBiYXIKICAgICAgICBsb2NhbCB2YXJfczNjcGZwID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICAgICAgcHJvZ3Jlc3NDb250YWluZXIuU2l6ZSA9IFVEaW0yLm5ldygxLCAtMjAsIDAsIDYpCiAgICAgICAgcHJvZ3Jlc3NDb250YWluZXIuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTAsIDEsIC0yNSkKICAgICAgICBwcm9ncmVzc0NvbnRhaW5lci5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNTAsIDUwLCA2MCkKICAgICAgICBwcm9ncmVzc0NvbnRhaW5lci5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICAgICAgCiAgICAgICAgbG9jYWwgdmFyX2lsdHRxeSA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgIHByb2dyZXNzQ29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDEsIDApCiAgICAgICAgcHJvZ3Jlc3NDb3JuZXIuUGFyZW50ID0gcHJvZ3Jlc3NDb250YWluZXIKICAgICAgICBwcm9ncmVzc0NvbnRhaW5lci5QYXJlbnQgPSBtYWluQ29udGFpbmVyCgogICAgICAgIC0tIFByb2dyZXNzIGJhciBmaWxsCiAgICAgICAgbG9jYWwgdmFyXzhxd3ZnaCA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgIHByb2dyZXNzQmFyLlNpemUgPSBVRGltMi5uZXcoMCwgMCwgMSwgMCkKICAgICAgICBwcm9ncmVzc0Jhci5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICBwcm9ncmVzc0Jhci5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICAgICAgCiAgICAgICAgbG9jYWwgdmFyX290ZWthMCA9IEluc3RhbmNlLm5ldygiVUlHcmFkaWVudCIpCiAgICAgICAgcHJvZ3Jlc3NCYXJHcmFkaWVudC5Db2xvciA9IGdyYWRpZW50Q29sb3IKICAgICAgICBwcm9ncmVzc0JhckdyYWRpZW50LlJvdGF0aW9uID0gMAogICAgICAgIHByb2dyZXNzQmFyR3JhZGllbnQuUGFyZW50ID0gcHJvZ3Jlc3NCYXIKICAgICAgICAKICAgICAgICBsb2NhbCB2YXJfZDRuOHloID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgcHJvZ3Jlc3NCYXJDb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMSwgMCkKICAgICAgICBwcm9ncmVzc0JhckNvcm5lci5QYXJlbnQgPSBwcm9ncmVzc0JhcgogICAgICAgIAogICAgICAgIHByb2dyZXNzQmFyLlBhcmVudCA9IHByb2dyZXNzQ29udGFpbmVyCgogICAgICAgIC0tIFRpbWVyIHRleHQKICAgICAgICBsb2NhbCB2YXJfNTZlZmpzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQogICAgICAgIHRpbWVyVGV4dC5TaXplID0gVURpbTIubmV3KDAsIDQwLCAwLCAxNikKICAgICAgICB0aW1lclRleHQuUG9zaXRpb24gPSBVRGltMi5uZXcoMSwgLTQwLCAwLCAtMjApCiAgICAgICAgdGltZXJUZXh0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgdGltZXJUZXh0LlRleHQgPSBkdXJhdGlvbiAuLiAicyIKICAgICAgICB0aW1lclRleHQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE4MCwgMTgwLCAxODApCiAgICAgICAgdGltZXJUZXh0LkZvbnQgPSBFbnVtLkZvbnQuR290aGFtTWVkaXVtCiAgICAgICAgdGltZXJUZXh0LlRleHRTaXplID0gMTEKICAgICAgICB0aW1lclRleHQuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LlJpZ2h0CiAgICAgICAgdGltZXJUZXh0LlBhcmVudCA9IG1haW5Db250YWluZXIKCiAgICAgICAgLS0gRm9vdGVyIHdpdGggY29weXJpZ2h0CiAgICAgICAgbG9jYWwgdmFyX3N2eGRjciA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgICAgICBmb290ZXIuU2l6ZSA9IFVEaW0yLm5ldygxLCAtMjAsIDAsIDE2KQogICAgICAgIGZvb3Rlci5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMCwgMSwgLTE2KQogICAgICAgIGZvb3Rlci5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgIGZvb3Rlci5UZXh0ID0gIqkgWmlhYW5Gb3VuZGVyIHggSWxoYW1IRCB8IEd1bnVuZyBTYWthaGF5YW5nIEF1dG8gU3VtbWl0IHwgRGlzY29yZC5nZy9ZSlVIMkUzR3BHIgogICAgICAgIGZvb3Rlci5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTUwLCAxNTAsIDE1MCkKICAgICAgICBmb290ZXIuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgZm9vdGVyLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtCiAgICAgICAgZm9vdGVyLlRleHRTaXplID0gOQogICAgICAgIGZvb3Rlci5QYXJlbnQgPSBtYWluQ29udGFpbmVyCgogICAgICAgIC0tIEVudHJhbmNlIGFuaW1hdGlvbgogICAgICAgIG1haW5Db250YWluZXIuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAtMjI1LCAwLCAtMjAwKQogICAgICAgIGxvY2FsIHZhcl9lNGQ4d3YgPSBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICBtYWluQ29udGFpbmVyLAogICAgICAgICAgICBUd2VlbkluZm8ubmV3KDAuNiwgRW51bS5FYXNpbmdTdHlsZS5CYWNrLCBFbnVtLkVhc2luZ0RpcmVjdGlvbi5PdXQpLAogICAgICAgICAgICB7UG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAtMjI1LCAwLjEsIDApfQogICAgICAgICkKICAgICAgICB0d2VlbkluOlBsYXkoKQoKICAgICAgICAtLSBQcm9ncmVzcyBhbmltYXRpb24KICAgICAgICBsb2NhbCB2YXJfNTkwN3VvID0gdGljaygpCiAgICAgICAgbG9jYWwgdmFyXzJzZ3doMAogICAgICAgIGNvbm5lY3Rpb24gPSBSdW5TZXJ2aWNlLkhlYXJ0YmVhdDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICAgICAgaWYgbm90IHNjcmVlbkd1aSBvciBub3Qgc2NyZWVuR3VpLlBhcmVudCB0aGVuIAogICAgICAgICAgICAgICAgY29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgIHJldHVybiAKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCB2YXJfMTV5ZnAwID0gdGljaygpIC0gc3RhcnRUaW1lCiAgICAgICAgICAgIGxvY2FsIHZhcl95aW9qc3EgPSBtYXRoLm1heCgwLCBkdXJhdGlvbiAtIGVsYXBzZWQpCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSBVcGRhdGUgcHJvZ3Jlc3MgYmFyCiAgICAgICAgICAgIGxvY2FsIHZhcl9zYjFrZGwgPSBlbGFwc2VkIC8gZHVyYXRpb24KICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuU2l6ZSA9IFVEaW0yLm5ldyhwcm9ncmVzcywgMCwgMSwgMCkKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIFVwZGF0ZSB0aW1lciB0ZXh0CiAgICAgICAgICAgIHRpbWVyVGV4dC5UZXh0ID0gc3RyaW5nLmZvcm1hdCgiJS4xZnMiLCByZW1haW5pbmcpCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBlbGFwc2VkID49IGR1cmF0aW9uIHRoZW4KICAgICAgICAgICAgICAgIGNvbm5lY3Rpb246RGlzY29ubmVjdCgpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKCiAgICAgICAgLS0gRXhpdCBhbmltYXRpb24gYWZ0ZXIgZHVyYXRpb24KICAgICAgICB0YXNrLmRlbGF5KGR1cmF0aW9uLCBmdW5jdGlvbigpCiAgICAgICAgICAgIGlmIHNjcmVlbkd1aSBhbmQgc2NyZWVuR3VpLlBhcmVudCB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfaWI1cGlmID0gVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgICAgICAgICBtYWluQ29udGFpbmVyLAogICAgICAgICAgICAgICAgICAgIFR3ZWVuSW5mby5uZXcoMC41LCBFbnVtLkVhc2luZ1N0eWxlLlF1YWQsIEVudW0uRWFzaW5nRGlyZWN0aW9uLkluKSwKICAgICAgICAgICAgICAgICAgICB7UG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAtMjI1LCAwLCAtMjAwKX0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHR3ZWVuT3V0OlBsYXkoKQogICAgICAgICAgICAgICAgdHdlZW5PdXQuQ29tcGxldGVkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgIHNjcmVlbkd1aTpEZXN0cm95KCkKICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgICAgIAogICAgICAgIHJldHVybiBzY3JlZW5HdWkKICAgIGVuZAoKICAgIC0tIENoYXJhY3RlciBwcmVwYXJhdGlvbiBmdW5jdGlvbgogICAgbG9jYWwgdmFyXzlrejlxcSBlbnN1cmVDaGFyYWN0ZXIoKQogICAgICAgIGlmIG5vdCBwbGF5ZXIuQ2hhcmFjdGVyIHRoZW4KICAgICAgICAgICAgcGxheWVyLkNoYXJhY3RlckFkZGVkOldhaXQoKQogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIHZhcl8zbHV5cHQgPSBwbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgaWYgbm90IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIHRoZW4KICAgICAgICAgICAgY2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIsIDUpCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgaWYgbm90IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSB0aGVuCiAgICAgICAgICAgIGNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIiwgNSkKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICByZXR1cm4gY2hhcmFjdGVyCiAgICBlbmQKCiAgICAtLSBTYWZlIHRlbGVwb3J0IGZ1bmN0aW9uCiAgICBsb2NhbCB2YXJfY3NtMXEwIHNpbXBsZVRlbGVwb3J0KHBvc2l0aW9uKQogICAgICAgIGxvY2FsIHZhcl9nenRiNDYgPSBlbnN1cmVDaGFyYWN0ZXIoKQogICAgICAgIGlmIG5vdCBjaGFyYWN0ZXIgb3Igbm90IGNoYXJhY3Rlci5QYXJlbnQgdGhlbiByZXR1cm4gZmFsc2UgZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgdmFyX3F1YTR4ciA9IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICAgICAgbG9jYWwgdmFyX3F4azR5YiA9IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQogICAgICAgIAogICAgICAgIGlmIG5vdCBocnAgb3Igbm90IGh1bWFub2lkIHRoZW4gcmV0dXJuIGZhbHNlIGVuZAogICAgICAgIAogICAgICAgIC0tIFRlbGVwb3J0IHRvIHBvc2l0aW9uIHdpdGggc2FmZSBZIG9mZnNldAogICAgICAgIGhycC5DRnJhbWUgPSBDRnJhbWUubmV3KHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAzLCBwb3NpdGlvbi5aKQogICAgICAgIHJldHVybiB0cnVlCiAgICBlbmQKCiAgICAtLSBSZWpvaW4gZnVuY3Rpb24KICAgIGxvY2FsIHZhcl81djB1ODUgcmVqb2luR2FtZSgpCiAgICAgICAgY3JlYXRlTm90aWZpY2F0aW9uKCJSZWpvaW5pbmcgR2FtZSIsICJQcmVwYXJpbmcgdG8gcmVqb2luIHRoZSBnYW1lLi4uIiwgMiwgImluZm8iKQogICAgICAgIHdhaXQoMikKICAgICAgICBUZWxlcG9ydFNlcnZpY2U6VGVsZXBvcnQoZ2FtZS5QbGFjZUlkLCBwbGF5ZXIpCiAgICBlbmQKCiAgICAtLSBNYWluIGV4ZWN1dGlvbiBmdW5jdGlvbgogICAgbG9jYWwgdmFyXzFjN3JlMSBtYWluKCkKICAgICAgICAtLSBQcmludCBzY3JpcHQgaW5mb3JtYXRpb24KICAgICAgICBwcmludChbWwogICAgICAgIFppYWFuSHViIC0gQXV0byBTdW1taXQgR3VudW5nIFNha2FoYXlhbmcKICAgICAgICBEZXZlbG9wZWQgYnkgWmlhYW5Gb3VuZGVyIHggSWxoYW1IRAogICAgICAgIEpvaW4gb3VyIERpc2NvcmQ6IGRpc2NvcmQuZ2cvWUpVSDJFM0dwRwogICAgICAgIF1dKQoKICAgICAgICAtLSBTdGFydCBhZG1pbiBtb25pdG9yaW5nCiAgICAgICAgbW9uaXRvckZvckFkbWlucygpCiAgICAgICAgd2FpdCgyKQogICAgICAgIAogICAgICAgIGlmIGhhc0RldGVjdGVkQWRtaW4gdGhlbiByZXR1cm4gZW5kCiAgICAgICAgCiAgICAgICAgLS0gRXhlY3V0ZSBtYWluIHNlcXVlbmNlCiAgICAgICAgY3JlYXRlTm90aWZpY2F0aW9uKCJTeXN0ZW0gU3RhcnRpbmciLCAiSW5pdGlhbGl6aW5nIGF1dG8gc3VtbWl0Li4uIiwgMiwgImluZm8iKQogICAgICAgIHdhaXQoMikKICAgICAgICAKICAgICAgICBjcmVhdGVOb3RpZmljYXRpb24oIlByZXBhcmluZyBUZWxlcG9ydCIsICJUZWxlcG9ydGluZyBpbiAyIHNlY29uZHMuLi4iLCAyLCAiaW5mbyIpCiAgICAgICAgd2FpdCgyKQogICAgICAgIAogICAgICAgIGlmIHNpbXBsZVRlbGVwb3J0KHRlbGVwb3J0TG9jYXRpb24pIHRoZW4KICAgICAgICAgICAgY3JlYXRlTm90aWZpY2F0aW9uKCJTdWNjZXNzIiwgIkFycml2ZWQgYXQgc3VtbWl0ISIsIDIsICJzdWNjZXNzIikKICAgICAgICAgICAgd2FpdCgyKQogICAgICAgICAgICAKICAgICAgICAgICAgY3JlYXRlTm90aWZpY2F0aW9uKCJSZXN0aW5nIiwgIkVuam95aW5nIHRoZSB2aWV3Li4uIiwgMiwgImluZm8iKQogICAgICAgICAgICB3YWl0KDIpCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSBKdW1wIG9uY2UgaWYgcG9zc2libGUKICAgICAgICAgICAgbG9jYWwgdmFyXzJpYW5wcyA9IGVuc3VyZUNoYXJhY3RlcigpCiAgICAgICAgICAgIGlmIGNoYXJhY3RlciBhbmQgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpIHRoZW4KICAgICAgICAgICAgICAgIGNoYXJhY3Rlci5IdW1hbm9pZC5KdW1wID0gdHJ1ZQogICAgICAgICAgICAgICAgY3JlYXRlTm90aWZpY2F0aW9uKCJKdW1waW5nIiwgIkNlbGVicmF0aW9uIGp1bXAhIiwgMSwgImluZm8iKQogICAgICAgICAgICAgICAgd2FpdCgxKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGNyZWF0ZU5vdGlmaWNhdGlvbigiUmVqb2luaW5nIiwgIlJldHVybmluZyB0byBnYW1lLi4uIiwgMiwgImluZm8iKQogICAgICAgICAgICB3YWl0KDIpCiAgICAgICAgICAgIAogICAgICAgICAgICByZWpvaW5HYW1lKCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIGNyZWF0ZU5vdGlmaWNhdGlvbigiRXJyb3IiLCAiVGVsZXBvcnQgZmFpbGVkIiwgMywgImVycm9yIikKICAgICAgICAgICAgd2FpdCgzKQogICAgICAgIGVuZAogICAgZW5kCgogICAgLS0gRXJyb3IgaGFuZGxpbmcgd3JhcHBlcgogICAgbG9jYWwgdmFyX2l1OWt4NiwgZXJyID0gcGNhbGwobWFpbikKICAgIGlmIG5vdCBzdWNjZXNzIHRoZW4KICAgICAgICB3YXJuKCJTY3JpcHQgZXJyb3I6ICIgLi4gZXJyKQogICAgICAgIGlmIHBsYXllciB0aGVuCiAgICAgICAgICAgIHBsYXllcjpLaWNrKCJTY3JpcHQgZXJyb3Igb2NjdXJyZWQuIFBsZWFzZSByZWpvaW4uIikKICAgICAgICBlbmQKICAgIGVuZAplbHNlCiAgICB3YXJuKCJTY3JpcHQgZGVzaWduZWQgZm9yIEd1bnVuZyBTYWthaGF5YW5nIChQbGFjZUlkOiAxMzcxMjM4MTk0NzY1ODkpIikKZW5k
